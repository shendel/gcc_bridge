(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2580)}])},9622:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var a=n(5893);function r(e){return(0,a.jsx)("h1",{children:"404"})}},2580:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Rt}});var a=n(5893),r=n(9008),i=n.n(r),s=n(7294),o=n(797),c=n(1752),l=n.n(c),u=n(5962),d=n(8635),m=n(7556),p=n(8793),f=n(5900),h=n(2670),x=n(8828),y=n(2375),g={energy:{chainId:2800500,name:"EnergyChain",nativeCurrency:{name:"Energy",symbol:"ENERGY",decimals:18},rpc:"https://rpc.energy-blockchain.ru/",explorer:"#",multicall:"0x48d7ac38530697aDB91061B6D141C8c763edE565",testnet:!0},energy_localhost:{chainId:1800500,name:"EnergyChain-Localhost",nativeCurrency:{name:"Energy",symbol:"ENERGY",decimals:18},rpc:"https://rpc.energy-blockchain.ru/",explorer:"http://explorer.proxima/",multicall:"0x83048f0Bf34FEeD8CEd419455a4320A735a92e9d",testnet:!0},premium_coffee:{chainId:1800510,name:"PremiumCoffee Blockchain",nativeCurrency:{name:"Energy",symbol:"ENERGY",decimals:18},rpc:"https://rpc.energy-blockchain.ru",explorer:"#",multicall:"0x7A29Ad35190342D2A5125b29Cf5063B299d9aAFf",testnet:!0},sepolia:{chainId:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpc:"https://eth-sepolia.g.alchemy.com/v2/eV40AoRwFdzusyW_9htirAoRXSMssQ0E",explorer:"https://sepolia.etherscan.io/",multicall:"0xfdd7067530db45CFF766Fe2C26e3590C3B320C4c",storage:"0x19b61c676e4288c78e10635e59423991111ccea4",exStorage:"0x06Cb12E810f996742be7afC993FFf5b8540ADcca",testnet:!0},mainnet:{chainId:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpc:"https://eth-mainnet.g.alchemy.com/v2/eV40AoRwFdzusyW_9htirAoRXSMssQ0E",explorer:"https://etherscan.io",multicall:"0x5BA1e12693Dc8F9c48aAD8770482f4739bEeD696",ensUniversalResolver:"0xc0497E381f536Be9ce14B0dD3817cBcAe57d2F62"},bsc:{chainId:56,name:"BSC",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpc:"https://bsc-dataseed1.binance.org/",explorer:"https://bscscan.com",multicall:"0xa9193376D09C7f31283C54e56D013fCF370Cd9D9",storage:"0xa7472f384339D37EfE505a1A71619212495A973A",exStorage:"0x05b12174a320967698f1e432793d6f5b3b83bb7c"},bsc_test:{chainId:97,name:"BSC testnet",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpc:"https://data-seed-prebsc-1-s2.binance.org:8545",explorer:"https://testnet.bscscan.com",multicall:"0x5d311801328eCa19CfFBe917d9814C95710ce1b1",testnet:!0},matic:{chainId:137,name:"Polygon",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpc:"https://polygon-rpc.com/",explorer:"https://polygonscan.com/",multicall:"0x02817C1e3543c2d908a590F5dB6bc97f933dB4BD"},mumbai:{chainId:80001,name:"Polygon testnet",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpc:"https://endpoints.omniatech.io/v1/matic/mumbai/public",explorer:"https://mumbai.polygonscan.com/",multicall:"0x6aa1bdc159e28beca44cc7f1a260a25e7b63f53d",testnet:!0},fantom:{chainId:250,name:"Fantom Opera",nativeCurrency:{name:"FTM",symbol:"FTM",decimals:18},rpc:"https://rpc.ftm.tools/",explorer:"https://ftmscan.com",multicall:"0x22D4cF72C45F8198CfbF4B568dBdB5A85e8DC0B5"},arbeth_mainnet:{chainId:42161,name:"Arbitrum",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpc:"https://arb1.arbitrum.io/rpc",explorer:"https://arbiscan.io/",multicall:"0x80C7DD17B01855a6D2347444a0FCC36136a314de"},xdai:{chainId:100,name:"Gnosis Mainnet (xDai)",nativeCurrency:{name:"XDAI",symbol:"XDAI",decimals:18},rpc:"https://rpc.gnosischain.com",explorer:"https://blockscout.com/xdai/mainnet",multicall:"0x67dA5f2FfaDDfF067AB9d5F025F8810634d84287"}},b=function(e){return Object.keys(g).filter((function(t){return g[t].chainId==e})).map((function(e){return{id:g[e].chainId,network:e,name:g[e].name,nativeCurrency:g[e].nativeCurrency,explorer:g[e].explorer,contracts:{ensUniversalResolver:!!g[e].ensUniversalResolver&&{address:g[e].ensUniversalResolver}},rpcUrls:{default:{http:[g[e].rpc]},public:{http:[g[e].rpc]}}}}))[0]||!1},v=function(e){var t=Object.keys(g).filter((function(t){return"".concat(g[t].chainId)=="".concat(e)}));if(t.length)return g[t[0]].rpc},j=function(e){var t=Object.keys(g).filter((function(t){return"".concat(g[t].chainId)=="".concat(e)}));if(t.length)return g[t[0]].multicall},w=function(e){var t=void 0==e?Object.keys(g).map((function(e){return{id:g[e].chainId,network:e,name:g[e].name,nativeCurrency:g[e].nativeCurrency,explorer:g[e].explorer,contracts:{ensUniversalResolver:!1},rpcUrls:{default:{http:[g[e].rpc]},public:{http:[g[e].rpc]}}}})):(0,h.Z)(e,Array)?e.map((function(e){return b(e)})):[b(e)];return console.log(">>> networks",t),(0,x.QB)(t,[(0,y.R)({rpc:function(e){return{http:v(e.id)}}})])},C=n(3804);n(6287);function k(e){var t=e.children,n=function(e,t){var n=w(e),a=n.chains,r=n.publicClient,i=l()().publicRuntimeConfig.NEXT_PUBLIC_PROJECT_ID,s=(0,u.a3)([{groupName:"Popular",wallets:[(0,d.U)({chains:a}),(0,m.P)({projectId:i||"a23677c4af3139b4eccb52981f76ad94",chains:a,shimDisconnect:!0})]}]);return{chains:a,wagmiConfig:(0,p._g)({publicClient:r,connectors:(0,o.Z)(s()).concat([new f.z({options:{projectId:i||"a23677c4af3139b4eccb52981f76ad94",chains:a}})]),autoConnect:t,contracts:{ensUniversalResolver:null}})}}(e.chainIds,e.autoConnect),r=n.chains,i=n.wagmiConfig;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(p.eM,{config:i,children:(0,a.jsx)(u.pj,{disableENS:!0,chains:r,theme:(0,C.$)(),children:t})})})}var N=n(7568),T=n(7582),I=n(7918),S=n.n(I),A=JSON.parse('[{"inputs":[{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall2.Call[]","name":"calls","type":"tuple[]"}],"name":"aggregate","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"},{"internalType":"bytes[]","name":"returnData","type":"bytes[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall2.Call[]","name":"calls","type":"tuple[]"}],"name":"blockAndAggregate","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"},{"internalType":"bytes32","name":"blockHash","type":"bytes32"},{"components":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"internalType":"struct Multicall2.Result[]","name":"returnData","type":"tuple[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"}],"name":"getBlockHash","outputs":[{"internalType":"bytes32","name":"blockHash","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBlockNumber","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockCoinbase","outputs":[{"internalType":"address","name":"coinbase","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockDifficulty","outputs":[{"internalType":"uint256","name":"difficulty","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockGasLimit","outputs":[{"internalType":"uint256","name":"gaslimit","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockTimestamp","outputs":[{"internalType":"uint256","name":"timestamp","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"getEthBalance","outputs":[{"internalType":"uint256","name":"balance","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLastBlockHash","outputs":[{"internalType":"bytes32","name":"blockHash","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"requireSuccess","type":"bool"},{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall2.Call[]","name":"calls","type":"tuple[]"}],"name":"tryAggregate","outputs":[{"components":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"internalType":"struct Multicall2.Result[]","name":"returnData","type":"tuple[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"requireSuccess","type":"bool"},{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall2.Call[]","name":"calls","type":"tuple[]"}],"name":"tryBlockAndAggregate","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"},{"internalType":"bytes32","name":"blockHash","type":"bytes32"},{"components":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"internalType":"struct Multicall2.Result[]","name":"returnData","type":"tuple[]"}],"stateMutability":"nonpayable","type":"function"}]'),B=n(594);function E(e){return j(e)}function M(){return new B.vU(A)}function R(e){var t=v(e),n=j(e);return new(new(S())(t).eth.Contract)(A,n)}var F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:options,t=e.address,n=e.chainId;return new Promise((function(e,a){R(n).methods.getEthBalance(t).call().then((function(t){e(t)})).catch((function(e){a(e)}))}))},q=(0,s.createContext)({injectedWeb3:!1,injectedAccount:!1,injectedChainId:!1,balance:0,isBalanceFetched:!1,isBalanceFetching:!0,isConnected:!0,switchNetwork:function(){},switchAccount:function(){},isSwitchingNetwork:!1}),D=function(){return(0,s.useContext)(q)};function W(e){var t=e.children,n=e.chainId,r=(e.chainIds,(0,s.useState)(!1)),i=r[0],o=r[1],c=(0,s.useState)(!1),l=c[0],u=c[1],d=(0,s.useState)(0),m=d[0],f=d[1],h=(0,s.useState)(!1),x=h[0],y=h[1],g=(0,s.useState)(!0),b=g[0],v=g[1],j=(0,s.useState)(!0),w=j[0],C=(j[1],(0,p.mA)().address),k=(0,p.mA)(),I=((0,p.LN)(),(0,p.g0)(),(0,p.g0)()),A=I.isLoading,B=I.pendingChainId,E=I.switchNetwork,M=!!A||!!B,R=(0,p.LN)().chain,D=null===R||void 0===R?void 0:R.id,W=(0,s.useState)(!1),O=W[0],P=W[1];return(0,s.useEffect)((function(){O&&O.getProvider().then(function(){var e=(0,N.Z)((function(e){var t;return(0,T.__generator)(this,(function(n){return t=new(S())(e),o(t),[2]}))}));return function(t){return e.apply(this,arguments)}}())}),[O]),(0,s.useEffect)((function(){C&&n&&(y(!1),v(!0),F({address:C,chainId:n}).then((function(e){f(e),y(!0),v(!1)})).catch((function(e){y(!1),v(!1),console.log(">> InjectedWeb3Provider",e)})))}),[C,n]),(0,s.useEffect)((function(){k&&k.connector?(u(k.address),P(k.connector)):(u(!1),P(!1))}),[n,k]),(0,a.jsx)(q.Provider,{value:{injectedWeb3:i,injectedAccount:l,injectedChainId:D,balance:m,isBalanceFetched:x,isBalanceFetching:b,isConnected:w,isSwitchingNetwork:M,switchAccount:function(){},switchNetwork:function(e){E(e),console.log(E),console.log(B,A)}},children:t})}var O=n(5820),P=n(6517),_=(0,s.createContext)({openModal:function(){},closeModal:function(){}}),L=function(){return(0,s.useContext)(_)};function Z(e){var t=e.children,n=(0,s.useState)([]),r=n[0],i=n[1],c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.doCancel,a=t.doConfirm,r=t.data,s=void 0!==r&&r;i((function(t){return t.filter((function(t){return t.id!==e||(t.onClose&&t.onClose(s),a&&t.onConfirm&&t.onConfirm(s),n&&t.onCancel&&t.onCancel(s),!1)}))}))};return(0,a.jsxs)(_.Provider,{value:{openModal:function(e){var t={id:e.id||Date.now(),title:e.title||"Confirm Action",description:e.description||"Are you sure?",okTitle:e.okTitle||"Confirm",cancelTitle:e.cancelTitle||"Cancel",onConfirm:e.onConfirm||null,onCancel:e.onCancel||null,isAlert:e.isAlert||!1,content:e.content||null,hideBottomButtons:e.hideBottomButtons||!1,hideCloseButton:e.hideCloseButton||!1,fullWidth:e.fullWidth||!1,onClose:e.onClose||!1};i((function(e){return(0,o.Z)(e).concat([t])}))},closeModal:c},children:[t,(0,a.jsx)(O.M,{children:r.map((function(e){return(0,a.jsx)(P.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"".concat(e.fullWidth?"overflow-y-auto":"items-center flex"," fixed inset-0 justify-center bg-black bg-opacity-50 z-50"),children:(0,a.jsxs)(P.E.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{duration:.3},className:"bg-white rounded-lg p-6 shadow-lg w-full ".concat(e.fullWidth?"max-w-4xl m-auto":"max-w-md"," relative"),children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-center mb-4",children:e.title}),null==e.content?(0,a.jsx)("div",{className:"text-gray-700 text-center mb-6",children:e.description}):(0,a.jsx)("div",{children:e.content}),!e.hideBottomButtons&&(0,a.jsx)(a.Fragment,{children:e.isAlert?(0,a.jsx)("div",{className:"grid place-items-center",children:(0,a.jsx)("button",{onClick:function(){return c(e.id)},className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:e.okTitle||"Ok"})}):(0,a.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,a.jsx)("button",{onClick:function(){return c(e.id,{doCancel:!0})},className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:e.cancelTitle||"Cancel"}),(0,a.jsx)("button",{onClick:function(){return c(e.id,{doConfirm:!0})},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:e.okTitle||"Confirm"})]})}),!e.hideCloseButton&&(0,a.jsx)("button",{onClick:function(){return c(e.id)},className:"absolute top-2 right-2 focus:outline-none",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500 hover:text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})},e.id)}))})]})}var U=n(1799),G=n(9396),H=function(e){var t=e.notifications,n=e.removeNotification;return(0,a.jsx)("div",{className:"fixed top-4 right-4 space-y-2 z-50",children:(0,a.jsx)(O.M,{children:t.map((function(e){return(0,a.jsxs)(P.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"flex items-center justify-between px-4 py-2 rounded-md shadow-md max-w-sm w-full cursor-pointer ".concat("info"===e.type?"bg-blue-50 text-blue-600 border border-blue-200 hover:bg-blue-100":"success"===e.type?"bg-green-50 text-green-600 border border-green-200 hover:bg-green-100":"bg-red-50 text-red-600 border border-red-200 hover:bg-red-100"),onMouseEnter:function(){console.log(">>> Toast - remove timer"),e.timerId&&clearTimeout(e.timerId)},onMouseLeave:function(){console.log(">>> Toast - create timer");var t=setTimeout((function(){n(e.id)}),1e4);return e.timerId=t,function(){return clearTimeout(t)}},children:["info"===e.type&&(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01"}),(0,a.jsx)("circle",{cx:"12",cy:"12",r:"8"})]}),"success"===e.type&&(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"error"===e.type&&(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2H6m4 4v6"})}),(0,a.jsx)("p",{className:"text-sm",children:e.message}),e.link&&(0,a.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-bold hover:underline pl-2",children:e.linkTitle||"View Details"}),(0,a.jsx)("button",{onClick:function(){return n(e.id)},className:"focus:outline-none ml-2",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},e.id)}))})})},V=(0,s.createContext)({addNotification:function(){}}),z=function(){return(0,s.useContext)(V)};function Q(e){var t=e.children,n=(0,s.useState)([]),r=n[0],i=n[1],c=0,l=function(e){i((function(t){return t.filter((function(t){return t.id!==e}))}))};return(0,s.useEffect)((function(){}),[r]),(0,a.jsxs)(V.Provider,{value:{addNotification:function(e,t,n,a){var r="".concat(Date.now(),"_").concat((new Date).getMilliseconds(),"_").concat(c);c++;var s={id:r,type:e,message:t,link:n,linkTitle:a,timerId:undefined};i((function(e){return[(0,G.Z)((0,U.Z)({},s),{timerId:setTimeout((function(){l(r)}),5e3)})].concat((0,o.Z)(e))}))}},children:[t,(0,a.jsx)(H,{notifications:r,removeNotification:l})]})}var Y=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address","name":"bridgeToken","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"from","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"requestId","type":"uint256"}],"name":"InitBridge","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"string","name":"outTx","type":"string"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getDecimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLockedAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getMinAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getQueryLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getRefundTimeout","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"requestId","type":"uint256"}],"name":"getRequest","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"inUtx","type":"uint256"},{"internalType":"uint256","name":"outUtx","type":"uint256"},{"internalType":"string","name":"outTx","type":"string"},{"internalType":"enum GCCBridge.RequestStatus","name":"status","type":"uint8"},{"internalType":"enum GCCBridge.RejectAction","name":"action","type":"uint8"},{"internalType":"string","name":"remark","type":"string"}],"internalType":"struct GCCBridge.Request","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"offset","type":"uint256"},{"internalType":"uint256","name":"limit","type":"uint256"}],"name":"getRequests","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"inUtx","type":"uint256"},{"internalType":"uint256","name":"outUtx","type":"uint256"},{"internalType":"string","name":"outTx","type":"string"},{"internalType":"enum GCCBridge.RequestStatus","name":"status","type":"uint8"},{"internalType":"enum GCCBridge.RejectAction","name":"action","type":"uint8"},{"internalType":"string","name":"remark","type":"string"}],"internalType":"struct GCCBridge.Request[]","name":"ret","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSymbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"uint256","name":"offset","type":"uint256"},{"internalType":"uint256","name":"limit","type":"uint256"}],"name":"getUserRequests","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"inUtx","type":"uint256"},{"internalType":"uint256","name":"outUtx","type":"uint256"},{"internalType":"string","name":"outTx","type":"string"},{"internalType":"enum GCCBridge.RequestStatus","name":"status","type":"uint8"},{"internalType":"enum GCCBridge.RejectAction","name":"action","type":"uint8"},{"internalType":"string","name":"remark","type":"string"}],"internalType":"struct GCCBridge.Request[]","name":"ret","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"getUserRequestsCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"initBridge","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"minAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"name":"refund","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"refundTimeout","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"enum GCCBridge.RejectAction","name":"action","type":"uint8"},{"internalType":"string","name":"remark","type":"string"}],"name":"reject","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_minAmount","type":"uint256"}],"name":"setMinAmount","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_time","type":"uint256"}],"name":"setRefundTimeout","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"token","outputs":[{"internalType":"contract IERC20Burnable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),J=function(e){var t=(0,U.Z)({onErrorDelay:100,onErrorRetry:1,chunkSize:100,chunkDelay:100,onFetching:function(e,t){}},e),n=t.args,a=t.chunkSize,r=t.func,i=t.onFetching,s=t.chunkDelay,c=t.onErrorDelay,l=t.onErrorRetry,u=function(e){return new Promise((function(t){window.setTimeout((function(){t()}),e)}))};return new Promise(function(){var e=(0,N.Z)((function(e,t){var d,m,p;return(0,T.__generator)(this,(function(f){switch(f.label){case 0:d=function(e){var d,p,f,h;return(0,T.__generator)(this,(function(x){switch(x.label){case 0:d=function(){var t=(0,N.Z)((function(){var t,c,l;return(0,T.__generator)(this,(function(d){switch(d.label){case 0:return c=n.slice(e,e+a),[4,r(c,e)];case 1:return l=d.sent(),(t=m).push.apply(t,(0,o.Z)(l)),i(e,n.length),[4,u(s)];case 2:return d.sent(),[2]}}))}));return function(){return t.apply(this,arguments)}}(),x.label=1;case 1:return x.trys.push([1,3,,11]),[4,d()];case 2:return x.sent(),[3,11];case 3:p=x.sent(),f=!1,h=0,x.label=4;case 4:if(!(h<l))return[3,10];x.label=5;case 5:return x.trys.push([5,8,,9]),[4,u(c)];case 6:return x.sent(),[4,d()];case 7:return x.sent(),f=!0,[3,10];case 8:return x.sent(),[3,9];case 9:return h++,[3,4];case 10:return f?[3,11]:(t(p),[2,"break"]);case 11:return[2]}}))},m=[],p=0,f.label=1;case 1:return p<n.length?[5,(0,T.__values)(d(p))]:[3,4];case 2:if("break"===f.sent())return[3,4];f.label=3;case 3:return p+=a,[3,1];case 4:return e(m),[2]}}))}));return function(t,n){return e.apply(this,arguments)}}())},X=function(e){if(e&&e._isBigNumber&&(e=e.toString()),(0,h.Z)(e,Array)){var t={};return Object.keys(e).forEach((function(n){t[n]=e[n],e[n]&&e[n]._isBigNumber&&(t[n]=e[n].toString()),(0,h.Z)(e[n],Array)&&(t[n]=X(e[n]))})),t}return e},$=function(e){var t=(0,U.Z)({chunkSize:500,onFetching:function(e,t){}},e),n=t.multicall,a=t.target,r=t.encoder,i=t.calls,s=t.chunkSize,o=t.onFetching;return new Promise((function(e,t){var c={},l=[],u=Object.keys(i).map((function(e){var t=i[e],n=t.func,s=t.args,o=t.encoder,c=t.target;return l.push(e),{target:c||a,callData:(o||r).encodeFunctionData(n,s)}}));J({args:u,chunkSize:s,onFetching:o,func:function(){var e=(0,N.Z)((function(e){return(0,T.__generator)(this,(function(t){switch(t.label){case 0:return[4,n.methods.tryAggregate(!1,e).call()];case 1:return[2,t.sent()]}}))}));return function(t){return e.apply(this,arguments)}}()}).then((function(t){t.forEach((function(e,t){if(e.success){var n=(i[l[t]].encoder||r).decodeFunctionResult(i[l[t]].func,e.returnData);n=1==n.length?n[0]:n,n=X(n),i[l[t]].asArray&&(n=Object.keys(n).map((function(e){return n[e]}))),c[l[t]]=n}else c[l[t]]=i[l[t]].default||!1})),e(c)})).catch((function(e){t(e)}))}))},K=function(e){var t=(0,U.Z)({},e),n=t.address,a=t.chainId;return new Promise((function(e,t){var r=v(a),i=Y.Mt;if(r)try{new(S())(r);var s=R(a),o=new B.vU(i);$({multicall:s,target:n,encoder:o,calls:{owner:{func:"owner"},lockedAmount:{func:"getLockedAmount"},tokenDecimals:{func:"getDecimals"},tokenSymbol:{func:"getSymbol"},tokenAddress:{func:"token"},queryLength:{func:"getQueryLength"},refundTimeout:{func:"getRefundTimeout"},timestamp:{func:"getCurrentBlockTimestamp",target:E(a),encoder:M()}}}).then((function(t){e((0,U.Z)({chainId:a,address:n},t))})).catch((function(e){console.log(">>> Fail fetch all info",e),t(e)}))}catch(c){t(c)}else t("NOT_SUPPORTED_CHAIN")}))},ee=(0,s.createContext)({contractInfo:!1,isFetching:!1,isError:!1,fetchBridgeInfo:function(){}}),te=function(){return(0,s.useContext)(ee)};function ne(e){var t=e.chainId,n=e.contractAddress,r=e.children,i=(0,s.useState)(!0),o=i[0],c=i[1],l=(0,s.useState)(!1),u=l[0],d=l[1],m=(0,s.useState)(!0),p=m[0],f=m[1],h=(0,s.useState)(!1),x=h[0],y=h[1];(0,s.useEffect)((function(){t&&n&&p&&(console.log(">>> Fetching"),c(!0),K({chainId:t,address:n}).then((function(e){console.log(">>> Factory info",e),d(!1),c(!1),f(!1),y(e)})).catch((function(e){console.log(">>> failFetch",e),c(!1),d(!0),f(!1)})))}),[t,n,p]);return(0,a.jsx)(ee.Provider,{value:{contractInfo:x,isError:u,isFetching:o,fetchInfo:function(){f(!0)}},children:r})}var ae=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address","name":"bridgeToken","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"inAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"rate","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"outAmount","type":"uint256"}],"name":"BridgeIn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"inAmount","type":"uint256"}],"name":"bridgeIn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"bridgeRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBridgeRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getDecimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getOracleAllowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getOracleBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"requestId","type":"uint256"}],"name":"getRequest","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"inAmount","type":"uint256"},{"internalType":"uint256","name":"rate","type":"uint256"},{"internalType":"uint256","name":"outAmount","type":"uint256"},{"internalType":"uint256","name":"outUtx","type":"uint256"}],"internalType":"struct GCCTargetBridge.Request","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"requestsIds","type":"uint256[]"}],"name":"getRequestsById","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"inAmount","type":"uint256"},{"internalType":"uint256","name":"rate","type":"uint256"},{"internalType":"uint256","name":"outAmount","type":"uint256"},{"internalType":"uint256","name":"outUtx","type":"uint256"}],"internalType":"struct GCCTargetBridge.Request[]","name":"ret","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSymbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_rate","type":"uint256"}],"name":"setBridgeRate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"token","outputs":[{"internalType":"contract IERC20Burnable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),re=function(e){var t=(0,U.Z)({},e),n=t.address,a=t.chainId;return new Promise((function(e,t){var r=v(a),i=ae.Mt;if(r)try{new(S())(r);var s=R(a),o=new B.vU(i);$({multicall:s,target:n,encoder:o,calls:{owner:{func:"owner"},bridgeRate:{func:"getBridgeRate"},tokenDecimals:{func:"getDecimals"},tokenSymbol:{func:"getSymbol"},tokenAddress:{func:"token"},oracleBalance:{func:"getOracleBalance"},oracleAllowance:{func:"getOracleAllowance"}}}).then((function(t){e((0,U.Z)({chainId:a,address:n},t))})).catch((function(e){console.log(">>> Fail fetch all info",e),t(e)}))}catch(c){t(c)}else t("NOT_SUPPORTED_CHAIN")}))},ie=(0,s.createContext)({contractInfo:!1,isFetching:!1,isError:!1,fetchBridgeInfo:function(){}}),se=function(){return(0,s.useContext)(ie)};function oe(e){var t=e.chainId,n=e.contractAddress,r=e.children,i=(0,s.useState)(!0),o=i[0],c=i[1],l=(0,s.useState)(!1),u=l[0],d=l[1],m=(0,s.useState)(!0),p=m[0],f=m[1],h=(0,s.useState)(!1),x=h[0],y=h[1];(0,s.useEffect)((function(){t&&n&&p&&(console.log(">>> Fetching"),c(!0),re({chainId:t,address:n}).then((function(e){console.log(">>> Target info",e),d(!1),c(!1),f(!1),y(e)})).catch((function(e){console.log(">>> failFetch",e),c(!1),d(!0),f(!1)})))}),[t,n,p]);return(0,a.jsx)(ie.Provider,{value:{contractInfo:x,isError:u,isFetching:o,fetchInfo:function(){f(!0)}},children:r})}var ce=11155111,le="0x6DB499ed699eFCDFACA0B6613357A3cec55652EB",ue=97,de="0x99D1350cC92DE958Efbd1e84dA7390e917287e56";Object.keys(g).map((function(e){return g[e].chainId}));function me(e){var t=e.children,n=[ce,ue],r=(0,s.useState)(11155111),i=r[0],o=(r[1],(0,s.useState)(n)),c=o[0];o[1];return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(Q,{children:(0,a.jsx)(k,{chainIds:c,autoConnect:!0,children:(0,a.jsx)(W,{chainId:i,chainIds:c,children:(0,a.jsx)(ne,{chainId:ce,contractAddress:le,children:(0,a.jsx)(oe,{chainId:ue,contractAddress:de,children:(0,a.jsx)(Z,{children:t})})})})})})})}function pe(e){var t=e.children;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(me,{children:t})})}var fe=n(9583);function he(e){var t=(0,U.Z)({processHash:function(e){return e}},e),n=t.on404,a=t.views,r=t.props,i=t.processHash,o=(0,fe.useRouter)(),c=function(e){return e?i(e):"/"},l=(0,s.useState)(c(o.asPath.split("#")[1]||"")),u=l[0],d=l[1],m=function(e){window.location.hash=e},p=function(e){d(e?c(e.split("#")[1]||""):"/")};(0,s.useEffect)((function(){var e=function(){return p(window.location.hash)},t=function(e){return p(e)};return o.events.on("hashChangeStart",t),window.addEventListener("hashchange",e),window.addEventListener("load",e),function(){o.events.off("hashChangeStart",t),window.removeEventListener("load",e),window.removeEventListener("hashchange",e)}}),[o.asPath,o.events]);var f=function(e){e||(e="/");var t=!1;return Object.keys(a).forEach((function(n){var a=[],r={},i=0;n.split("/").filter((function(e){return""!=e})).forEach((function(e,t){":"==e.substr(0,1)?(r[t]=e,i++):a.push(e)}));var s=[],o={},c=0;e.split("/").filter((function(e){return""!=e})).forEach((function(e,t){void 0!==r[t]?(o[r[t].substr(1)]=e,c++):s.push(e)})),c==i&&s.join("/").toLowerCase()==a.join("/").toLowerCase()&&(t={params:o,path:n})})),t},h=(0,s.useState)(f(u)),x=h[0],y=h[1];(0,s.useEffect)((function(){y(f(u))}),[u]);return x?s.createElement(a[x.path],(0,G.Z)((0,U.Z)({},e,r),{gotoPage:m,params:x.params,render404:function(){return s.createElement(n,(0,G.Z)((0,U.Z)({},e,r),{gotoPage:m}))}})):n?s.createElement(n,(0,G.Z)((0,U.Z)({},e,r),{gotoPage:m})):null}var xe=function(e){var t=(0,p.mA)().isConnecting,n=((0,p.qL)().disconnect,(0,p.$4)()),r=(n.connectors,n.connect,(0,U.Z)({connectView:function(e,t){return(0,a.jsx)("button",{disabled:e,onClick:t,children:"Connect"})},connectedView:function(e,t){return(0,a.jsx)("button",{children:t||e})},wrongChainView:function(e){return(0,a.jsx)("button",{onClick:e,children:"Unsupported network"})}},e)),i=r.connectView,s=r.connectedView,o=r.wrongChainView;return(0,a.jsx)(u.NL.Custom,{children:function(e){var n=e.account,r=e.chain,c=(e.openAccountModal,e.openChainModal),l=e.openConnectModal,u=e.mounted;return(0,a.jsx)("div",(0,G.Z)((0,U.Z)({},!u&&{"aria-hidden":!0,style:{opacity:0,pointerEvents:"none",userSelect:"none"}}),{children:u&&n&&r?r.unsupported?o(c):s(n.address,n.ensName):i(t,l)}))}})},ye=function(){return(0,a.jsx)("div",{className:"w-full p-6",children:(0,a.jsx)("div",{className:"w-full max-w-lg mx-auto",children:(0,a.jsx)(xe,{connectedView:function(){return null},wrongChainView:function(){return null},connectView:function(e,t){return(0,a.jsx)("button",{disabled:e,onClick:t,className:"w-full py-4 bg-blue-500 text-white font-bold text-lg rounded-lg shadow-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300 transition duration-300",children:"Connect Wallet"})}})})})},ge=n(794),be=function(e){var t=e.value,n=e.onChange,r=e.label,i=void 0===r?"Stake Amount":r,o=e.isDisabled,c=e.tokenInfo,l=void 0===c?{symbol:"Token",decimals:18}:c,u=e.minimumAmount,d=void 0===u?0:u,m=e.tokenBalance,p=e.setHasAmountError,f=void 0===p?function(){}:p,h=(0,s.useState)(!1),x=h[0],y=h[1],g=(0,s.useState)(!1),b=g[0],v=g[1];(0,s.useEffect)((function(){var e=new ge.Z(t).isGreaterThan(m),n=new ge.Z(t).isLessThan(d);f(e||n),y(e),v(n)}),[t]);var j="w-full px-4 py-2 ".concat(x||b?"text-red-500":"text-black"," border border-gray-300 rounded-l focus:outline-none focus:border-blue-500");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex place-content-between",children:[(0,a.jsx)("div",{className:"block text-gray-700 mb-2 font-bold",children:i}),(0,a.jsxs)("div",{className:"block  font-bold mb-2 ".concat(x?"text-red-500":"text-gray-700"),children:[(0,a.jsx)("span",{children:"Balance:"}),(0,a.jsx)("span",{className:"pl-1 pr-1",children:m}),(0,a.jsx)("span",{children:l.symbol})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"number",id:"stakeAmount",value:t,onChange:function(e){o||n(e.target.value)},className:o?"w-full px-4 py-2 bg-gray-300 border border-gray-700 rounded-l focus:outline-none focus:border-blue-500":j}),(0,a.jsx)("button",{onClick:function(){o||n(m)},className:o?"bg-gray-500 text-white px-4 py-2 border border-gray-700 rounded-r":"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 border border-blue-500 rounded-r",children:"MAX"})]}),d&&(0,a.jsx)("div",{className:"flex place-content-between",children:(0,a.jsx)("div",{className:"block ".concat(b?"text-red-500":"text-gray-700"," mb-2 font-bold"),children:"Min: ".concat(d," ").concat(l.symbol)})})]})},ve=n(4914),je=n.n(ve),we=function(e){var t=e.from,n=e.to,a=e.tokenAddress,r=e.chainId;return new Promise((function(e,i){var s=v(r);new(new(S())(s).eth.Contract)(je(),a).methods.allowance(t,n).call().then((function(i){e({from:t,to:n,allowance:i,tokenAddress:a,chainId:r})})).catch((function(e){i(e)}))}))},Ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;return new ge.Z(e).multipliedBy(Math.pow(10,t)).toFixed()},ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;return new ge.Z(e).div(new ge.Z(10).pow(t)).toFixed()},Ne=function(e){var t=e.wallet,n=e.tokenAddress,a=e.chainId;return new Promise((function(e,r){var i=v(a),s=new(new(S())(i).eth.Contract)(je(),n);s.methods.symbol().call().then((function(i){s.methods.decimals().call().then((function(o){s.methods.balanceOf(t).call().then((function(r){var s=ke(r,o);e({wallet:t,tokenAddress:n,chainId:a,decimals:o,wei:r,normalized:s,symbol:i})})).catch((function(e){r(e)}))})).catch((function(e){r(e)}))})).catch((function(e){r(e)}))}))},Te=function(){var e=(0,N.Z)((function(e,t,n,a,r){var i,s,c,l;return(0,T.__generator)(this,(function(u){switch(u.label){case 0:return s={from:e},r&&(s.value=new ge.O(r)),[4,(i=t.methods)[n].apply(i,(0,o.Z)(a)).estimateGas(s)];case 1:return c=u.sent(),l=new ge.O(new ge.O(c).multipliedBy(1.15).toFixed(0)).toString(16),s.gas="0x"+l,[2,s]}}))}));return function(t,n,a,r,i){return e.apply(this,arguments)}}(),Ie=function(e){return new Promise(function(){var t=(0,N.Z)((function(t,n){var a,r,i,s,o,c,l,u,d,m,p,f,h,x,y;return(0,T.__generator)(this,(function(g){switch(g.label){case 0:return r=e.activeWallet,i=e.activeWeb3,s=e.tokenAddress,o=e.approveFor,c=e.weiAmount,l=e.calcGas,console.log(">>>> approveToken",e),u=e.onTrx||function(){},d=e.onSuccess||function(){},m=e.onError||function(){},p=e.onFinally||function(){},f=new i.eth.Contract(je(),s),[4,Te(r,f,"approve",[o,c])];case 1:return h=g.sent(),[4,i.eth.getGasPrice()];case 2:return x=g.sent(),l?(t({gas:new ge.O(h.gas).multipliedBy(x).toFixed()}),[2]):(h.gasPrice=x,console.log(">>> on approve timeout",i.eth.transactionBlockTimeout),(a=f.methods).approve.apply(a,[o,c]).send(h).on("transactionHash",(function(e){console.log("ON TX",e),y=e,u(e)})).on("error",(function(e){console.log(">> ERROR",e),e.toString().includes("not mined within")?console.log(">>> wail wait"):(console.log(">>> on error",e),m(e),n(e))})).on("receipt",(function(e){d(e)})).then((function(e){t(e),p(e)})).catch((function(e){if(console.error(e),e.message.includes("not mined within")){console.log(">>> NOT MINTED IN 50 BLOCKS - WAIT MINT!!!");var a=setInterval((function(){i.eth.getTransactionReceipt(y).then((function(e){null!=e&&e.blockNumber>0&&(clearInterval(a),t(e),d(e))}))}),1e3);console.log(">>> Minted ready")}else n(e)})).finally((function(){console.log(">>> Finally")})),[2])}}))}));return function(e,n){return t.apply(this,arguments)}}())},Se=function(e){var t=e.children,n=e.isLoading,r=e.isDisabled,i=e.isBold,s=e.fullWidth,o=e.color,c=void 0===o?"blue":o,l=e.onClick,u="relative ".concat(s?"w-full":""," shadow-md px-4 py-2 rounded transition-bg bg-gray-500 text-gray-100 cursor-not-allowed"),d="relative ".concat(s?"w-full":""," duration-500 ease-in-out shadow-md px-4 py-2 rounded text-white transition-all bg-").concat(c,"-500 hover:bg-").concat(c,"-600 active:bg-").concat(c,"-800 active:scale-95");return(0,a.jsxs)("button",{onClick:l,disabled:r||n,className:r?u:d,children:[n?(0,a.jsx)("div",{className:"absolute left-0 top-0 right-0 bottom-0 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white"})}):null,(0,a.jsx)("span",{className:n?"invisible":i?"font-bold":"",children:t})]})},Ae=function(e,t){var n=b(e);return"".concat(n.explorer).concat("/"==n.explorer.slice(-1)?"":"/","tx/").concat(t)},Be=function(e,t){var n=b(e);return"".concat(n.explorer).concat("/"==n.explorer.slice(-1)?"":"/","address/").concat(t)},Ee=function(e){return"".concat(e.slice(0,8),"...").concat(e.slice(-8))},Me=function(e){return new Promise((function(t,n){var a=e.activeWeb3,r=e.contract,i=e.method,s=e.args,c=e.weiAmount,l=e.calcGas,u=e.onTrx||function(){},d=e.onSuccess||function(){},m=e.onError||function(){},p=e.onFinally||function(){};console.log(">>> callContractMethod",a,r,i,s),a.eth.getAccounts().then(function(){var e=(0,N.Z)((function(e){var f,h,x,y,g;return(0,T.__generator)(this,(function(b){switch(b.label){case 0:return e.length>0?(h=e[0],[4,Te(h,r,i,s||[],c)]):[3,3];case 1:return x=b.sent(),[4,a.eth.getGasPrice()];case 2:return y=b.sent(),l?(t({gas:new ge.O(x.gas).multipliedBy(y).toFixed()}),[2]):(x.gasPrice=y,(f=r.methods)[i].apply(f,(0,o.Z)(s||[])).send(x).on("transactionHash",(function(e){g=e,u(e)})).on("error",(function(e){console.log(">> ERROR",e),e.toString().includes("not mined within")?console.log(">>> wail wait"):(console.log(">>> on error",e),m(e),n(e))})).on("receipt",(function(e){d(e)})).then((function(e){t(e),p(e)})).catch((function(e){if(e.message.includes("not mined within 50 blocks"))var r=setInterval((function(){a.eth.getTransactionReceipt(g).then((function(e){null!=e&&e.blockNumber>0&&(clearInterval(r),t(e),d(e))}))}),1e3);else n(e)})),[3,4]);case 3:n("NO_ACTIVE_ACCOUNT"),b.label=4;case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(">>> callContractMethod",e),n(e)}))}))},Re=function(e){var t=e.activeWeb3,n=e.address,a=e.amountWei,r=e.calcGas,i=e.onTrx,s=void 0===i?function(e){}:i,o=e.onSuccess,c=void 0===o?function(){}:o,l=e.onError,u=void 0===l?function(){}:l,d=e.onFinally,m=void 0===d?function(){}:d,p=new t.eth.Contract(Y.Mt,n);return Me({activeWeb3:t,contract:p,method:"initBridge",args:[a],calcGas:r,onTrx:s,onSuccess:c,onError:u,onFinally:m})},Fe=function(e){var t=e.tabs,n=void 0===t?[]:t,r=e.active,i=void 0===r?"":r,s=e.onClick,o=void 0===s?function(e){}:s;return(0,a.jsx)("div",{className:"flex justify-center mb-4",children:n.map((function(e){var t=e.title,n=e.key;return(0,a.jsx)("button",{onClick:function(){i!=n&&o(n)},className:"px-4 py-2 mr-2 bg-".concat(i===n?"blue-500 text-white":"gray-200 text-gray-700"," rounded hover:bg-blue-600 hover:text-white"),children:t},n)}))})},qe=function(e){return(0,a.jsx)("div",{className:"bg-opacity-50 fixed inset-0 flex justify-center items-center bg-white z-50",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500"})})},De=n(6879),We=n(6199),Oe=n(7066),Pe=function(e){var t=e.url,n=e.title,r=e.noTitle,o=void 0!==r&&r,c=(0,s.useState)(""),l=c[0],u=c[1];return(0,s.useEffect)((function(){var e=function(){var e=(0,N.Z)((function(){var e,n;return(0,T.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),console.log(">>>> MarkDownViewer - begin load",t),[4,Oe.Z.get(t)];case 1:return e=a.sent(),u(e.data),console.log(">>> Is loaded"),[3,3];case 2:return n=a.sent(),console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 Markdown:",n),u("Fail load Markdown-file."),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}),[t]),(0,a.jsxs)("div",{className:"markdown-container",children:[!o&&(0,a.jsx)(i(),{children:(0,a.jsx)("title",{children:n})}),(0,a.jsx)(De.D,{remarkPlugins:[We.Z],children:l})]})},_e=function(e){var t=D(),n=t.injectedWeb3,r=t.injectedAccount,i=t.injectedChainId,o=t.switchNetwork,c=(t.isSwitchingNetwork,te()),l=c.contractInfo;c.isFetching;console.log(">>> MainnetBridgeContext",l);var u=z().addNotification,d=(0,s.useState)(!1),m=d[0],p=d[1],f=(0,s.useState)(0),h=f[0],x=f[1],y=(0,s.useState)(!1),g=y[0],v=y[1],j=(0,s.useState)(!1),w=(j[0],j[1]),C=(0,s.useState)(0),k=C[0],N=C[1],T=L(),I=T.openModal,S=T.closeModal,A=(0,s.useState)(!0),B=(A[0],A[1]),E=(0,s.useState)(0),M=E[0],R=E[1];(0,s.useEffect)((function(){l&&p({address:l.tokenAddress,symbol:l.tokenSymbol,decimals:l.tokenDecimals})}),[l]),(0,s.useEffect)((function(){r&&m&&m.address?(N(0),w(!0),Ne({wallet:r,tokenAddress:m.address,chainId:ce}).then((function(e){if(w(!1),e){var t=e.normalized;N(t)}})).catch((function(e){w(!1),console.log(">>> err",e)}))):N(0)}),[r,m]);var F=(0,s.useState)(!1),q=F[0],W=F[1];(0,s.useEffect)((function(){r&&m&&m.address?(B(!0),we({from:r,to:le,tokenAddress:m.address,chainId:ce}).then((function(e){var t=e.allowance;R(new ge.Z(t)),B(!1)})).catch((function(e){console.log("Fail fetch allowance",e),B(!1),R(0)}))):(B(!1),R(0))}),[r,le,m]);var O=(0,s.useState)(!1),P=(O[0],O[1]),_=(0,s.useState)(!1),Z=_[0],U=_[1],G=new ge.Z(Ce(h,m.decimals)).isGreaterThan(M);return m?(0,a.jsxs)("div",{className:"w-full p-6",children:[(0,a.jsx)(Fe,{tabs:[{title:"Bridge",key:"BRIDGE"},{title:"History",key:"HISTORY"}],active:"BRIDGE",onClick:function(e){window.location.hash="/history"}}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 w-full max-w-lg mx-auto",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"block text-gray-700 font-bold mb-2 text-center text-xl ",children:["Bridging ",(0,a.jsx)("span",{className:"text-blue-600",children:m.symbol})," to ",(0,a.jsx)("span",{className:"text-blue-600",children:b(ue).name})]}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(be,{value:h,chainId:ce,label:"Bridge amount",onChange:x,tokenInfo:m,tokenBalance:k,setHasAmountError:P,isDisabled:q||Z,minimumAmount:1})}),(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)("input",{type:"checkbox",id:"termsCheckbox",checked:g,onChange:function(e){v(e.target.checked)},className:"mr-2"}),(0,a.jsxs)("label",{htmlFor:"termsCheckbox",className:"text-gray-700 cursor-pointer",children:["I have read and I accept the"," ",(0,a.jsx)("a",{href:"#",className:"text-blue-500 underline",onClick:function(){I({title:"Terms and conditions",hideBottomButtons:!0,fullWidth:!0,id:"RULES",content:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Pe,{url:"./rules.md",noTitle:!0}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(Se,{onClick:function(){S("RULES")},children:"Close"})})]})})},children:"terms and conditions"})]})]}),i!=ce?(0,a.jsx)(Se,{isBold:!0,fullWidth:!0,onClick:function(){o(ce)},children:'Switch to "'.concat(b(ce).name,'"')}):(0,a.jsx)(a.Fragment,{children:G?(0,a.jsx)(Se,{fullWidth:!0,isBold:!0,isDisabled:!g,onClick:function(){u("info","Approving ".concat(m.symbol,". Confirm transaction")),W(!0),Ie({activeWallet:r,activeWeb3:n,tokenAddress:m.address,approveFor:le,weiAmount:Ce(h,m.decimals),onTrx:function(e){u("info","Approving transaction",Ae(ce,e),Ee(e))},onSuccess:function(){u("success","Token ".concat(m.symbol," successfull approved")),W(!1),R(Ce(h,m.decimals))},onError:function(){u("error","Fail approving"),W(!1)}}).catch((function(e){}))},isLoading:q,children:"Approve ".concat(h," ").concat(m.symbol)}):(0,a.jsx)(Se,{isDisabled:!g||stakeAmount<=0,isLoading:Z,fullWidth:!0,isBold:!0,onClick:function(){U(!0),u("info","Bridging ".concat(h," ").concat(m.symbol,". Confirm transaction")),Re({activeWeb3:n,address:le,amountWei:Ce(h,m.decimals),onTrx:function(e){u("info","Bridge transaction",Ae(ce,e),Ee(e))},onSuccess:function(e){var t=e.events.InitBridge.returnValues.requestId;U(!1),u("success","Bridge request #".concat(t," successfull created")),window.location.hash="/request/".concat(t)},onError:function(){u("error","Fail bridge tokens"),U(!1)}}).catch((function(e){}))},children:'Bridge to "'.concat(b(ue).name,'"')})})]})})]}):(0,a.jsx)(qe,{})},Le=function(e){var t=(0,U.Z)({},e),n=t.requestId,a=t.address,r=t.chainId,i=t.targetChainId,s=t.targetChainAddress;return new Promise((function(e,t){var o=Y.Mt,c=ae.Mt,l=R(r),u=new B.vU(o),d=R(i),m=new B.vU(c);$({multicall:l,target:a,encoder:u,calls:{sourceRequest:{func:"getRequest",args:[n]},sourceTimestamp:{func:"getCurrentBlockTimestamp",target:E(r),encoder:M()}}}).then((function(o){$({multicall:d,target:s,encoder:m,calls:{targetRequest:{func:"getRequest",args:[n]},targetTimestamp:{func:"getCurrentBlockTimestamp",target:E(i),encoder:M()}}}).then((function(t){e((0,U.Z)({chainId:r,address:a},o,t))})).catch((function(e){console.log(">>> fail fetch",e),t(e)}))})).catch((function(e){console.log(">>> Fail fetch all info",e),t(e)}))}))},Ze=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new Date(1e3*e),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=n.getFullYear(),i=a[n.getMonth()],s=n.getDate(),o=n.getHours()<10?"0".concat(n.getHours()):n.getHours(),c=n.getMinutes()<10?"0".concat(n.getMinutes()):n.getMinutes(),l=n.getSeconds()<10?"0".concat(n.getSeconds()):n.getSeconds(),u=s+" "+i+" "+r+" "+o+":"+c+(t?":"+l:"");return u},Ue=function(e){var t=e.activeWeb3,n=e.address,a=e.requestId,r=e.calcGas,i=e.onTrx,s=void 0===i?function(e){}:i,o=e.onSuccess,c=void 0===o?function(){}:o,l=e.onError,u=void 0===l?function(){}:l,d=e.onFinally,m=void 0===d?function(){}:d,p=new t.eth.Contract(Y.Mt,n);return Me({activeWeb3:t,contract:p,method:"refund",args:[a],calcGas:r,onTrx:s,onSuccess:c,onError:u,onFinally:m})},Ge=0,He=1,Ve=2,ze=3,Qe={0:"Pending",1:"Bridged",2:"Rejected",3:"Refunded"},Ye={0:"Refunded to sender",1:"Burned",2:"Sended to oracle"},Je=function(e){var t=e.requestId,n=e.on404,r=D(),i=r.injectedWeb3,o=r.injectedAccount,c=(r.injectedChainId,r.switchNetwork,r.isSwitchingNetwork,te().contractInfo),l=se().contractInfo,u=z().addNotification,d=L(),m=(d.openModal,d.closeModal,(0,s.useState)(!1)),p=m[0],f=m[1],h=(0,s.useState)(0),x=h[0],y=h[1],g=(0,s.useState)(!1),v=g[0],j=g[1],w=(0,s.useState)(0),C=(w[0],w[1]),k=(0,s.useState)(!1),N=k[0],T=k[1],I=(0,s.useState)(!0),S=I[0],A=I[1],B=(0,s.useState)(!1),E=B[0],M=B[1];if((0,s.useEffect)((function(){S&&(A(!1),T(!0),Le({requestId:t,address:le,chainId:ce,targetChainId:ue,targetChainAddress:de}).then((function(e){var t=e.sourceRequest,n=e.sourceTimestamp,a=e.targetRequest,r=e.targetTimestamp;f(t),y(Number(n)),j(a),C(Number(r))})).catch((function(e){})).finally((function(){T(!1)})))}),[t,S]),!c||!l)return(0,a.jsx)(qe,{});if(!p)return(0,a.jsx)(qe,{});if(p.from.toLowerCase()!==o.toLowerCase())return n();return(0,a.jsxs)("div",{className:"w-full p-6",children:[N&&(0,a.jsx)(qe,{}),(0,a.jsx)(Fe,{tabs:[{title:"Bridge",key:"BRIDGE"},{title:"History",key:"HISTORY"}],active:"NONE",onClick:function(e){"BRIDGE"==e&&(window.location.hash="/"),"HISTORY"==e&&(window.location.hash="/history")}}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 w-full max-w-lg mx-auto",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"block text-gray-700 font-bold mb-2 text-center text-xl ",children:["Bridging ",(0,a.jsx)("span",{className:"text-blue-600",children:c.tokenSymbol})," to ",(0,a.jsx)("span",{className:"text-blue-600",children:b(ue).name})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"block text-gray-700 font-bold text-center text-x2",children:"Bridge request #".concat(t)}),(0,a.jsx)("div",{className:"block text-gray-700 font-bold text-center text-x2",children:Ze(p.inUtx)})]}),(0,a.jsx)("div",{className:"pt-2 mt-2 border-t border-stone-500",children:(0,a.jsxs)("div",{className:"block text-gray-700 font-bold text-x2",children:["You sent from",(0,a.jsx)("span",{children:" "}),(0,a.jsx)("span",{className:"text-blue-600",children:b(ce).name})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"block text-gray-700 text-right font-bold text-x1",children:[(0,a.jsx)("span",{children:ke(p.amount,c.tokenDecimals)}),(0,a.jsx)("span",{children:" "}),(0,a.jsx)("span",{className:"text-blue-600",children:c.tokenSymbol})]})}),(0,a.jsx)("div",{className:"pt-2 mt-2 border-t border-stone-500",children:(0,a.jsxs)("div",{className:"block text-gray-700 font-bold text-x2",children:["You recieve at",(0,a.jsx)("span",{children:" "}),(0,a.jsx)("span",{className:"text-blue-600",children:b(ue).name})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"block text-gray-700 text-right font-bold text-x1",children:[(0,a.jsx)("span",{children:ke(new ge.Z(p.amount).multipliedBy(l.bridgeRate),l.tokenDecimals)}),(0,a.jsx)("span",{children:" "}),(0,a.jsx)("span",{className:"text-blue-600",children:l.tokenSymbol})]})}),(0,a.jsx)("div",{className:"pt-2 mt-2 border-t border-stone-500",children:(0,a.jsxs)("div",{className:"block text-gray-700 text-right font-bold text-x1 flex justify-between",children:[(0,a.jsx)("span",{children:"Request status"}),p.status==ze&&(0,a.jsx)("span",{className:"text-green-600",children:"Refunded"}),p.status==Ge&&(0,a.jsx)(a.Fragment,{children:Number(p.inUtx)+Number(c.refundTimeout)<x?(0,a.jsx)("span",{className:"text-red-600",children:"Need refund"}):(0,a.jsx)("span",{className:"text-emerald-600",children:"Pending"})}),p.status==He&&0==v.id&&(0,a.jsx)("span",{className:"text-emerald-600",children:"Processing"}),p.status==He&&p.id==v.id&&(0,a.jsx)("span",{className:"text-green-600",children:"Ready. Bridged"}),p.status==Ve&&(0,a.jsx)("span",{className:"text-red-600",children:"Rejected"})]})}),p.status==He&&p.id==v.id&&(0,a.jsx)("div",{className:"pt-2 mt-2 border-t border-stone-500",children:(0,a.jsxs)("div",{className:"block text-gray-700 text-right font-bold text-x1 flex justify-between",children:[(0,a.jsx)("span",{children:"Bridget at"}),(0,a.jsx)("span",{className:"text-emerald-600",children:Ze(v.outUtx)})]})}),p.status==Ve&&""!=p.remark&&(0,a.jsxs)("div",{className:"pt-2 mt-2 border-t border-stone-500",children:[(0,a.jsx)("div",{className:"block text-gray-700 text-left font-bold text-x1",children:"Reject reason"}),(0,a.jsx)("div",{className:"text-red-600 font-bold",children:p.remark})]}),(0,a.jsxs)("div",{className:"pt-2 mt-2 border-t border-stone-500",children:[p.status==Ge&&Number(p.inUtx)+Number(c.refundTimeout)<x&&(0,a.jsx)("div",{className:"pb-2",children:(0,a.jsx)(Se,{color:"red",isLoading:E,fullWidth:!0,onClick:function(){M(!0),u("info","Refunding request #".concat(t," (").concat(ke(p.amount,c.tokenDecimals)," ").concat(c.tokenSymbol,"). Confirm transaction")),Ue({activeWeb3:i,address:le,requestId:t,onTrx:function(e){u("info","Refund transaction",Ae(ce,e),Ee(e))},onSuccess:function(e){M(!1),A(!0),u("success","Bridge request #".concat(t," successfull refunded"))},onError:function(){u("error","Fail refund tokens"),M(!1)}}).catch((function(e){}))},children:"Refund request"})}),(0,a.jsx)("div",{children:(0,a.jsx)(Se,{fullWidth:!0,onClick:function(){window.location.hash="/history"},children:"Back to requests"})})]})]})]})},Xe=function(e){var t=(0,U.Z)({},e),n=t.address,a=t.chainId,r=t.user,i=t.targetChainId,s=t.targetChainAddress,o=t.offset,c=void 0===o?0:o,l=t.limit,u=void 0===l?0:l;return new Promise((function(e,t){var o=v(a),l=Y.Mt;if(o)try{new(S())(o);var d=R(a),m=new B.vU(l);$({multicall:d,target:n,encoder:m,calls:{totalCount:{func:"getUserRequestsCount",args:[r]},requests:{func:"getUserRequests",args:[r,c,u],asArray:!0},sourceTimestamp:{func:"getCurrentBlockTimestamp",target:E(a),encoder:M()}}}).then((function(r){var o=r.requests,c=r.sourceTimestamp,l=r.totalCount,u=o.map((function(e){return e.id})),d=R(i),m=new B.vU(ae.Mt);$({multicall:d,target:s,encoder:m,calls:{info:{func:"getRequestsById",args:[u],asArray:!0},targetTimestamp:{func:"getCurrentBlockTimestamp",target:E(i),encoder:M()}}}).then((function(t){var r=t.info,i=t.targetTimestamp,s={};r.map((function(e){s[e.id]=e})),e({chainId:a,address:n,sourceTimestamp:c,targetTimestamp:i,totalCount:l,requests:o.map((function(e){return(0,G.Z)((0,U.Z)({},e),{target:s[e.id]})}))})})).catch((function(e){console.log("fail fetch target info",e),t(e)}))})).catch((function(e){console.log(">>> Fail fetch all info",e),t(e)}))}catch(p){t(p)}else t("NOT_SUPPORTED_CHAIN")}))},$e=function(e){var t=e.width,n=e.height,r=e.children;return(0,a.jsxs)("div",{className:"bg-gray-200 rounded-lg shadow-md overflow-hidden animate-pulse ".concat(t?"w-".concat(t):r?"":"w-full"," relative"),style:{height:n||"auto"},children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-300 via-gray-200 to-gray-300 opacity-75"}),r]})},Ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(n){e=e.replaceAll("{".concat(n,"}"),t[n])})),e};function et(e){var t,n=(t="PAGINATOR",function(e,n,a){return Ke(e,n,a?"".concat(t,"_").concat(a):t)}),r=e.page,i=e.totalItems,s=e.perPage,o=e.href,c=Number(r),l=Math.ceil(i/s),u=function(e){return(0,a.jsx)("a",{href:o.replace("{page}",e),className:e==c?"active":"",children:e+1})};return l>1?(0,a.jsxs)("div",{className:"adminPaginator",children:[(0,a.jsx)("style",{children:"\n          .adminPaginator {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding-left: 1em;\n            padding-right: 1em;\n          }\n          .adminPaginator .pages {\n            display: flex;\n            border: 1px solid #cacaca;\n            border-radius: 5px;\n            background: #fff;\n          }\n          .adminPaginator .pages A,\n          .adminPaginator .pages SPAN {\n            border-left: 1px solid #838383;\n            display: block;\n            height: 2em;\n            padding-left: 0.75em;\n            padding-right: 0.75em;\n            font-size: 12pt;\n            font-weight: bold;\n            text-decoration: none;\n            text-align: center;\n            vertical-align: middle;\n            line-height: 2em;\n            color: #111827;\n          }\n          .adminPaginator .pages A:hover {\n            background: #f9fafb;\n          }\n          .adminPaginator .pages A.active {\n            background: #4f46e5;\n            color: #FFF;\n          }\n          .adminPaginator .pages A:first-child {\n            border-left: none;\n            border-top-left-radius: 5px;\n            border-bottom-left-radius: 5px;\n          }\n          .adminPaginator .pages A:last-child {\n            border-top-right-radius: 5px;\n            border-bottom-right-radius: 5px;\n          }\n          .adminPaginator .pageInfo {\n            font-size: 0.9em;\n            color: #111827;\n          }\n        "}),(0,a.jsx)("div",{className:"pageInfo",children:n("Showing {from} to {to} of {total} results",{from:c*s+1,to:c*s+s>i?i:c*s+s,total:i})}),(0,a.jsx)("div",{className:"pages",children:l>10?(0,a.jsxs)(a.Fragment,{children:[Array.apply(null,Array(c>=4?2:6)).map((function(e,t){return u(t)})),c>=4&&c<=l-6?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"..."}),u(c-1),u(c),u(c+1),c<l-5&&(0,a.jsx)("span",{children:"..."})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("span",{children:"..."})}),(0,a.jsxs)(a.Fragment,{children:[c>l-6&&(0,a.jsx)(a.Fragment,{children:u(l-6)}),c>l-6&&(0,a.jsx)(a.Fragment,{children:u(l-5)}),c>l-6&&(0,a.jsx)(a.Fragment,{children:u(l-4)}),c>l-6&&(0,a.jsx)(a.Fragment,{children:u(l-3)}),u(l-2),u(l-1)]})]}):(0,a.jsx)(a.Fragment,{children:Array.apply(null,Array(l)).map((function(){})).map((function(e,t){return u(t)}))})})]}):null}var tt=function(e){e.requestId,e.on404;var t=e.page,n=void 0===t?0:t,r=D(),i=(r.injectedWeb3,r.injectedAccount),o=(r.injectedChainId,r.switchNetwork,r.isSwitchingNetwork,te().contractInfo),c=se().contractInfo,l=(z().addNotification,L()),u=(l.openModal,l.closeModal,(0,s.useState)(!1)),d=u[0],m=u[1],p=(0,s.useState)([]),f=p[0],h=p[1],x=(0,s.useState)(0),y=x[0],g=x[1],v=(0,s.useState)(0),j=(v[0],v[1]),w=(0,s.useState)(0),C=w[0],k=w[1];return(0,s.useEffect)((function(){m(!0),Xe({address:le,chainId:ce,user:i,targetChainId:ue,targetChainAddress:de,offset:5*n,limit:5}).then((function(e){var t=e.sourceTimestamp,n=e.targetTimestamp,a=e.requests,r=e.totalCount;console.log(">>> user request",e),h(a),g(Number(t)),j(Number(n)),k(r)})).catch((function(e){})).finally((function(){m(!1)}))}),[i,n]),o&&c?(0,a.jsxs)("div",{className:"w-full p-6",children:[(0,a.jsx)(Fe,{tabs:[{title:"Bridge",key:"BRIDGE"},{title:"History",key:"HISTORY"}],active:"HISTORY",onClick:function(e){window.location.hash="/"}}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 w-full max-w-lg mx-auto",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"block text-gray-700 font-bold mb-2 text-center text-xl ",children:["Bridging ",(0,a.jsx)("span",{className:"text-blue-600",children:o.tokenSymbol})," to ",(0,a.jsx)("span",{className:"text-blue-600",children:b(ue).name})]})}),(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"block text-gray-700 font-bold text-center text-x2",children:"History of your requests"})}),f.length>0?(0,a.jsxs)(a.Fragment,{children:[f.map((function(e){var t=e.id,n=e.amount,r=e.inUtx,i=e.status,s=e.target;return(0,a.jsx)("div",{className:"mt-2 border-t border-stone-500",children:(0,a.jsxs)("div",{className:"cursor-pointer hover:bg-sky-50 p-2",onClick:function(){window.location.hash="/request/".concat(t)},children:[(0,a.jsxs)("div",{className:"flex font-bold text-gray-700",children:[(0,a.jsx)("div",{className:"flex-none",style:{width:"25%"},children:"#".concat(t)}),(0,a.jsx)("div",{className:"grow text-center",children:Ze(r)}),(0,a.jsxs)("div",{className:"flex-none text-right",style:{width:"25%"},children:[i==ze&&(0,a.jsx)("span",{className:"text-green-600",children:"Refunded"}),i==Ge&&Number(r)+Number(o.refundTimeout)<y?(0,a.jsx)("span",{className:"text-red-600 ",children:"Need refund"}):(0,a.jsx)(a.Fragment,{children:i==Ge&&(0,a.jsx)("span",{className:"text-emerald-600",children:"Pending"})}),i==He&&(void 0==s||0==s.id)&&(0,a.jsx)("span",{className:"text-emerald-600",children:"Processing"}),i==He&&s&&e.id==s.id&&(0,a.jsx)("span",{className:"text-green-600",children:"Ready"}),i==Ve&&(0,a.jsx)("span",{className:"text-red-600",children:"Rejected"})]})]}),(0,a.jsxs)("div",{className:"text-center pt-1 pb-1 text-2xl font-bold text-gray-700",children:[(0,a.jsx)("span",{children:ke(n,o.tokenDecimals)}),(0,a.jsx)("span",{children:" "}),(0,a.jsx)("span",{className:"text-blue-600",children:o.tokenSymbol}),(0,a.jsx)("span",{children:" > "}),(0,a.jsx)("span",{children:ke(new ge.Z(n).multipliedBy(c.bridgeRate),c.tokenDecimals)}),(0,a.jsx)("span",{children:" "}),(0,a.jsx)("span",{className:"text-blue-600",children:c.tokenSymbol})]})]})},t)})),d&&(0,a.jsx)(qe,{}),(0,a.jsx)(et,{page:n,totalItems:C,perPage:5,href:"#/history/{page}"})]}):(0,a.jsx)(a.Fragment,{children:d?(0,a.jsx)($e,{height:"64px"}):(0,a.jsx)("div",{className:"pt-2 mt-2 border-t border-stone-500",children:(0,a.jsx)("div",{className:"block text-gray-700 font-bold text-center text-x2",children:"you have no requests"})})})]})]}):null};function nt(e){e.gotoPage,e.params;var t=e.params,n=t.subpage,r=t.pageOrRequest,i=e.on404;if(n&&-1==["history","request"].indexOf(n))return i();if("request"==n&&(void 0==r||isNaN(r)))return i();var s=D(),o=(s.isConnected,s.injectedAccount);return(0,a.jsx)(a.Fragment,{children:o?(0,a.jsx)(a.Fragment,{children:n?(0,a.jsxs)(a.Fragment,{children:["history"==n&&(0,a.jsx)(tt,{page:r}),"request"==n&&r&&(0,a.jsx)(Je,{requestId:r,on404:i})]}):(0,a.jsx)(_e,{})}):(0,a.jsx)(ye,{})})}var at=function(e){var t=e.adminAddress,n=D().injectedAccount;return(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100 z-50",children:(0,a.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md text-center w-full max-w-md",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"Access Denied"}),(0,a.jsx)("p",{className:"text-gray-700 mb-6",children:"To access, switch to the administrator wallet"}),(0,a.jsx)("p",{className:"text-gray-700 mb-2 font-bold",children:"Administrator address:"}),(0,a.jsx)("p",{className:"text-blue-500 font-bold mb-6",children:t}),n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-gray-700 mb-2 font-bold",children:"Your address:"}),(0,a.jsx)("p",{className:"text-blue-500 font-bold mb-6",children:n})]})]})})},rt=function(e){var t=(0,U.Z)({},e),n=t.address,a=t.chainId,r=t.targetChainId,i=t.targetChainAddress,s=t.offset,o=t.limit;return new Promise((function(e,t){var c=v(a),l=Y.Mt;if(c)try{new(S())(c);var u=R(a),d=new B.vU(l);$({multicall:u,target:n,encoder:d,calls:{requests:{func:"getRequests",args:[s,o],asArray:!0},sourceTimestamp:{func:"getCurrentBlockTimestamp",target:E(a),encoder:M()}}}).then((function(s){var o=s.requests,c=s.sourceTimestamp,l=o.map((function(e){return e.id})),u=R(r),d=new B.vU(ae.Mt);$({multicall:u,target:i,encoder:d,calls:{info:{func:"getRequestsById",args:[l],asArray:!0},targetTimestamp:{func:"getCurrentBlockTimestamp",target:E(r),encoder:M()}}}).then((function(t){var r=t.info,i=t.targetTimestamp,s={};r.map((function(e){s[e.id]=e})),e({chainId:a,address:n,sourceTimestamp:c,targetTimestamp:i,requests:o.map((function(e){return(0,G.Z)((0,U.Z)({},e),{target:s[e.id]})}))})})).catch((function(e){console.log("fail fetch target info",e),t(e)}))})).catch((function(e){console.log(">>> Fail fetch all info",e),t(e)}))}catch(m){t(m)}else t("NOT_SUPPORTED_CHAIN")}))},it=function(e){var t=e.children,n=e.isLoading,r=e.isDisabled,i=e.isBold,s=e.fullWidth,o=e.color,c=void 0===o?"blue":o,l=e.onClick,u="relative ".concat(s?"w-full":""," shadow-md px-4 py-2 rounded transition-bg bg-gray-500 text-gray-100 cursor-not-allowed"),d="relative ".concat(s?"w-full":""," duration-500 ease-in-out shadow-md px-4 py-2 rounded text-white transition-all bg-").concat(c,"-500 hover:bg-").concat(c,"-600 active:bg-").concat(c,"-800 active:scale-95");return(0,a.jsxs)("button",{onClick:l,disabled:r||n,className:r?u:d,children:[n?(0,a.jsx)("div",{className:"absolute left-0 top-0 right-0 bottom-0 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white"})}):null,(0,a.jsx)("span",{className:n?"invisible":i?"font-bold":"",children:t})]})};function st(e){var t=e.children;return(0,a.jsx)("label",{className:"block text-gray-700 font-bold mb-1 mt-2",children:t})}var ot=n(9603),ct=n(9417);function lt(e){var t=e.icon,n="fa-".concat(t).replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()})).replace(/\s+/g,"").replaceAll("-","");return(0,a.jsx)(ot.G,{icon:ct[n]})}var ut=function(e){var t=e.value,n=e.setValue,r=void 0===n?function(){}:n,i=e.onBlur,s=e.onFocus,o=e.error,c=e.errorMessage,l=e.disabled,u=e.hasLink,d=e.buttons,m=e.type,p=void 0===m?"text":m;return(0,a.jsxs)("div",{className:" w-full flex items-center space-x-2",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)("input",{type:p,value:t,onBlur:i,onFocus:s,onChange:function(e){l||r(e.target.value)},className:"w-full px-4 py-2 ".concat(l?"bg-gray-300 border-gray-500":"bg-white"," border rounded focus:outline-none ").concat(o?"border-red-500":"border-gray-300")}),u&&(0,a.jsx)("div",{className:"absolute flex items-center top-2 right-2 bottom-2 pr-1 pl-1 ".concat(l?"bg-gray-300":"bg-white"),children:(0,a.jsx)("a",{href:u,target:"_blank",className:"text-blue-500",children:(0,a.jsx)(lt,{icon:"up-right-from-square"})})}),o&&c&&(0,a.jsx)("div",{className:"absolute bottom-full left-0 w-full bg-red-200 border-red-500 border text-red-800 p-1 pr-2 pl-2",children:c})]}),d&&(0,a.jsx)(a.Fragment,{children:d})]})},dt=function(e){var t=e.activeWeb3,n=e.address,a=e.requestId,r=e.calcGas,i=e.onTrx,s=void 0===i?function(e){}:i,o=e.onSuccess,c=void 0===o?function(){}:o,l=e.onError,u=void 0===l?function(){}:l,d=e.onFinally,m=void 0===d?function(){}:d,p=new t.eth.Contract(Y.Mt,n);return Me({activeWeb3:t,contract:p,method:"approve",args:[a,""],calcGas:r,onTrx:s,onSuccess:c,onError:u,onFinally:m})},mt=function(e){var t=e.activeWeb3,n=e.address,a=e.requestId,r=e.to,i=e.weiAmount,s=e.calcGas,o=e.onTrx,c=void 0===o?function(e){}:o,l=e.onSuccess,u=void 0===l?function(){}:l,d=e.onError,m=void 0===d?function(){}:d,p=e.onFinally,f=void 0===p?function(){}:p,h=new t.eth.Contract(ae.Mt,n);return Me({activeWeb3:t,contract:h,method:"bridgeIn",args:[a,r,i],calcGas:s,onTrx:c,onSuccess:u,onError:m,onFinally:f})},pt=function(e){var t=e.iconColor,n=void 0===t?"text-blue-500":t,r=e.text,i=e.children;return(0,a.jsxs)("div",{className:"bg-gray-100 rounded-lg p-2 mb-2 border border-gray-300 shadow-sm flex items-center",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 ".concat(n," mr-4"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01"}),(0,a.jsx)("circle",{cx:"12",cy:"12",r:"8"})]}),(0,a.jsx)("p",{className:"text-gray-700",children:r||i})]})},ft=function(e){var t=e.requestId,n=e.sourceRequest,r=e.targetRequest,i=(0,s.useState)(n),o=i[0],c=i[1],l=(0,s.useState)(r),u=l[0],d=l[1],m=(0,s.useState)(!1),p=m[0],f=m[1];(0,s.useEffect)((function(){p&&(f(!1),Le({requestId:t,chainId:ce,address:le,targetChainId:ue,targetChainAddress:de}).then((function(e){var t=e.sourceRequest,n=e.targetRequest;c(t),d(n)})).catch((function(e){})))}),[t,p]);var h=L(),x=(h.openModal,h.closeModal),y=D(),g=y.injectedWeb3,v=y.injectedAccount,j=y.injectedChainId,w=y.switchNetwork,C=(y.isSwitchingNetwork,z().addNotification),k=te(),N=k.contractInfo,T=(k.contractInfo,k.isFetching,se()),I=T.contractInfo;T.fetchBridgeInfo;if(!N||!I)return null;var S=(0,s.useState)(null===I||void 0===I?void 0:I.oracleAllowance),A=S[0],B=S[1],E=(0,s.useState)(!1),M=E[0],R=E[1],F=(0,s.useState)(!1),q=F[0],W=F[1],O=(0,s.useState)(!1),P=O[0],_=O[1],Z=new ge.Z(o.amount).multipliedBy(I.bridgeRate).isGreaterThan(A),U=new ge.Z(o.amount).multipliedBy(I.bridgeRate).isGreaterThan(I.oracleBalance),G="".concat(ke(o.amount,N.tokenDecimals)," ").concat(N.tokenSymbol),H="".concat(ke(new ge.Z(o.amount).multipliedBy(I.bridgeRate),I.tokenDecimals)," ").concat(I.tokenSymbol);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(st,{children:"Exchange rate"}),(0,a.jsx)(ut,{value:I.bridgeRate,disabled:!0}),(0,a.jsx)(st,{children:"Burn amount"}),(0,a.jsx)(ut,{value:G,disabled:!0}),(0,a.jsx)(st,{children:"User recive"}),(0,a.jsx)(ut,{value:H,disabled:!0}),o.status==He&&u.id==o.id?(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(pt,{children:"Bridge request successfull approved and finished"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(st,{children:"Step 1 - Burn ".concat(G,' at "').concat(b(ce).name,'"')}),o.status==Ge&&(0,a.jsx)("div",{className:"mt-2",children:j!=ce?(0,a.jsx)(it,{color:"blue",fullWidth:!0,onClick:function(){w(ce)},children:'Switch to "'.concat(b(ce).name,'"')}):(0,a.jsx)(it,{color:"green",fullWidth:!0,onClick:function(){R(!0),C("info","Burning ".concat(ke(o.amount,N.tokenDecimals)," ").concat(N.tokenSymbol,' at "').concat(b(ce),'" . Confirm transaction')),dt({activeWeb3:g,address:le,requestId:t,onTrx:function(e){C("info","Transaction",Ae(ce,e),Ee(e))},onSuccess:function(e){R(!1),f(!0),C("success","#".concat(t," successfull"))},onError:function(){C("error","Fail"),R(!1)}}).catch((function(e){}))},isLoading:M,children:'Process. Burn tokens at "'.concat(b(ce).name,'"')})}),o.status==He&&(0,a.jsx)(st,{children:"Step 1 - Done"}),o.status==He&&0==u.id&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(st,{children:"Step 2 - Send ".concat(H," to user at ").concat(b(ue).name)}),(0,a.jsx)("div",{className:"mt-2",children:j!=ue?(0,a.jsx)(it,{color:"blue",fullWidth:!0,onClick:function(){w(ue)},children:'Switch to "'.concat(b(ue).name,'"')}):(0,a.jsx)(a.Fragment,{children:U?(0,a.jsx)(it,{color:"red",fullWidth:!0,children:"Low Token balance"}):(0,a.jsx)(a.Fragment,{children:Z?(0,a.jsx)(it,{color:"green",fullWidth:!0,onClick:function(){C("info","Approving ".concat(H,". Confirm transaction")),W(!0),Ie({activeWallet:v,activeWeb3:g,tokenAddress:I.tokenAddress,approveFor:de,weiAmount:new ge.Z(o.amount).multipliedBy(I.bridgeRate),onTrx:function(e){C("info","Approving transaction",Ae(ue,e),Ee(e))},onSuccess:function(){C("success","".concat(H," successfull approved")),W(!1),B(new ge.Z(o.amount).multipliedBy(I.bridgeRate))},onError:function(){C("error","Fail approving"),W(!1)}}).catch((function(e){}))},isLoading:q,children:"Approve ".concat(H)}):(0,a.jsx)(it,{color:"green",fullWidth:!0,onClick:function(){_(!0),C("info","Sending ".concat(H,' at "').concat(b(ce),'" . Confirm transaction')),mt({activeWeb3:g,address:de,requestId:t,to:o.from,weiAmount:o.amount,onTrx:function(e){C("info","Transaction",Ae(ce,e),Ee(e))},onSuccess:function(e){_(!1),f(!0),C("success","#".concat(t," successfull finalized"))},onError:function(){C("error","Fail"),_(!1)}}).catch((function(e){}))},isLoading:P,children:'Process. Send tokens at "'.concat(b(ue).name,'"')})})})})]})]}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(it,{fullWidth:!0,color:"gray",onClick:function(){x("ACCEPT_REQUEST")},children:"Close"})})]})},ht=function(e){var t=e.value,n=e.setValue,r=e.disabled,i=e.children;return(0,a.jsx)("select",{value:t,onChange:function(e){return n(e.target.value)},disabled:r,className:r?"w-full px-4 py-2 border bg-gray-300 border-gray-700 rounded focus:outline-none focus:border-blue-500":"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500",children:i})},xt=function(e){var t=e.activeWeb3,n=e.address,a=e.requestId,r=e.rejectAction,i=e.rejectReason,s=e.calcGas,o=e.onTrx,c=void 0===o?function(e){}:o,l=e.onSuccess,u=void 0===l?function(){}:l,d=e.onError,m=void 0===d?function(){}:d,p=e.onFinally,f=void 0===p?function(){}:p,h=new t.eth.Contract(Y.Mt,n);return Me({activeWeb3:t,contract:h,method:"reject",args:[a,r,i],calcGas:s,onTrx:c,onSuccess:u,onError:m,onFinally:f})},yt=function(e){var t=e.requestId,n=L(),r=(n.openModal,n.closeModal),i=D(),o=i.injectedWeb3,c=(i.injectedAccount,i.injectedChainId),l=i.switchNetwork,u=(i.isSwitchingNetwork,z().addNotification),d=te(),m=d.contractInfo,p=(d.contractInfo,d.isFetching,(0,s.useState)(0)),f=p[0],h=p[1],x=(0,s.useState)(""),y=x[0],g=x[1],v=(0,s.useState)(!1),j=v[0],w=v[1];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(st,{children:"Reject action"}),(0,a.jsxs)(ht,{value:f,setValue:h,children:[(0,a.jsx)("option",{value:0,children:"Refund (return tokens back to user)"}),(0,a.jsx)("option",{value:1,children:"Burn (destroy tokens)"}),(0,a.jsx)("option",{value:2,children:"Take tokens (send tokens to Oracle ".concat(m.owner,")")})]}),(0,a.jsx)(st,{children:"Reason for reject"}),(0,a.jsx)(ut,{value:y,setValue:g}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[c!=ce?(0,a.jsx)(it,{color:"blue",onClick:function(){l(ce)},children:'Swith to "'.concat(b(ce).name,'" for reject')}):(0,a.jsx)(it,{color:"red",onClick:function(){w(!0),u("info","Reject request #".concat(t," . Confirm transaction")),xt({activeWeb3:o,address:le,requestId:t,rejectAction:f,rejectReason:y,onTrx:function(e){u("info","Transaction",Ae(ce,e),Ee(e))},onSuccess:function(e){w(!1),u("success","#".concat(t," successfull rejected")),r("REJECT_REQUEST",{data:{needUpdate:!0}})},onError:function(){u("error","Fail"),w(!1)}}).catch((function(e){}))},isLoading:j,children:"Confirm reject"}),(0,a.jsx)(it,{color:"gray",onClick:function(){r("REJECT_REQUEST")},isLoading:j,children:"Cancel"})]})]})},gt=function(e){var t=e.requestId,n=L(),r=n.openModal,i=n.closeModal,o=D(),c=(o.injectedWeb3,o.injectedAccount,o.injectedChainId);o.switchNetwork,o.isSwitchingNetwork;console.log(">>> injectedChainId",c);z().addNotification;var l=te(),u=l.contractInfo,d=(l.contractInfo,l.isFetching,se().contractInfo),m=(0,s.useState)(!1),p=m[0],f=m[1],h=(0,s.useState)(!1),x=h[0],y=h[1],g=(0,s.useState)(!1),b=g[0],v=g[1],j=(0,s.useState)(!0),w=(j[0],j[1]),C=(0,s.useState)(!0),k=C[0],N=C[1];if((0,s.useEffect)((function(){k&&(N(!1),w(!0),console.log(">>> update"),Le({requestId:t,chainId:ce,address:le,targetChainId:ue,targetChainAddress:de}).then((function(e){var t=e.sourceRequest,n=e.targetRequest;v(!0),console.log(t,n),f(t),y(n),w(!1)})).catch((function(e){})))}),[t,k]),!u||!d)return null;var T=function(){r({title:"Accept bridge request #".concat(t),hideBottomButtons:!0,fullWidth:!0,id:"ACCEPT_REQUEST",onClose:function(e){N(!0)},content:(0,a.jsx)(ft,{requestId:t,sourceRequest:p,targetRequest:x})})},I=p.status==He&&0==x.id,S=p.status==He&&0==x.id?"Step 1 Ready. Tokens burned. Need finish step - 2":Qe[p.status];return p.status==Ge&&Number(p.inUtx)+Number(u.refundTimeout)<Number(u.timestamp)&&(S="Need refund by user",I=!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(st,{children:"Sended from"}),b?(0,a.jsx)(ut,{value:p.from,disabled:!0,hasLink:Be(ce,p.from)}):(0,a.jsx)($e,{height:"42px"}),(0,a.jsx)(st,{children:"Amount"}),b?(0,a.jsx)(ut,{value:"".concat(ke(p.amount,u.tokenDecimals)," ").concat(u.tokenSymbol),disabled:!0}):(0,a.jsx)($e,{height:"42px"}),(0,a.jsx)(st,{children:"Request date/time"}),b?(0,a.jsx)(ut,{value:Ze(p.inUtx),disabled:!0}):(0,a.jsx)($e,{height:"42px"}),(0,a.jsx)(st,{children:"Status"}),b?(0,a.jsx)(ut,{value:S,disabled:!0,error:I}):(0,a.jsx)($e,{height:"42px"}),b&&(0,a.jsxs)(a.Fragment,{children:[p.status==Ve&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(st,{children:"Reject reason"}),(0,a.jsx)(ut,{value:p.remark,disabled:!0}),(0,a.jsx)(st,{children:"Action at reject"}),(0,a.jsx)(ut,{value:Ye[p.action],disabled:!0})]}),p.status==He&&0==x.id&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(it,{color:"green",fullWidth:!0,onClick:T,children:"Need finish bridging. Tokens dont sended to user"})}),p.status==Ge&&Number(p.inUtx)+Number(u.refundTimeout)>Number(u.timestamp)&&(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[(0,a.jsx)(it,{color:"green",onClick:T,children:"Accept request"}),(0,a.jsx)(it,{color:"red",onClick:function(){r({title:"Reject bridge request #".concat(t),hideBottomButtons:!0,fullWidth:!0,id:"REJECT_REQUEST",onClose:function(e){e&&e.needUpdate&&N(!0)},content:(0,a.jsx)(yt,{requestId:t})})},children:"Reject request"})]})]}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(it,{fullWidth:!0,color:"gray",onClick:function(){i("REQUEST_INFO")},children:"Close"})})]})},bt=function(e){return(0,a.jsx)("div",{className:"fixed left-0 bottom-0 w-8 h-8 flex justify-center items-center bg-white z-50",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-4 border-b-4 border-blue-500"})})},vt=function(e){var t=e.children;return(0,a.jsx)("div",{className:"w-full mb-2 mt-2",children:(0,a.jsx)("div",{className:"min-w-full divide-y divide-gray-200",children:(0,a.jsx)("div",{className:"bg-white shadow sm:rounded-lg",children:(0,a.jsx)("div",{className:"align-middle inline-block min-w-full",children:(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("table",{className:"min-w-full",children:t})})})})})})},jt=function(e){var t=e.children;return(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{children:t})})},wt=function(e){var t=e.children;return(0,a.jsx)("tbody",{children:t})},Ct=function(e){var t=e.children;return(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 bg-gray-300 text-left text-xs font-medium text-gray-900 align-center uppercase tracking-wider",children:t})},kt=function(e){var t=e.children;return(0,a.jsx)("tr",{className:"border-b border-gray-200 hover:bg-blue-200",children:t})},Nt=function(e){var t=e.children,n=e.colSpan,r=e.width,i=e.className,s=e.style;return(0,a.jsx)("td",{className:"px-2 py-1 ".concat(i||""),colSpan:n,width:r,style:s,children:t})};function Tt(e){e.gotoPage;var t=e.params.page,n=void 0===t?0:t,r=D(),i=(r.isConnected,r.injectedAccount),o=L(),c=o.openModal,l=(o.closeModal,te()),u=l.contractInfo,d=l.contractInfo,m=d.queryLength,p=d.tokenSymbol,f=d.tokenDecimals,h=d.refundTimeout,x=l.isFetching,y=(0,s.useState)([]),g=y[0],b=y[1],v=(0,s.useState)(!1),j=v[0],w=v[1],C=(0,s.useState)(0),k=C[0],N=C[1],T=(0,s.useState)(!1),I=T[0],S=T[1],A=(0,s.useState)(!1),B=A[0],E=A[1],M=function(){return new Promise((function(e,t){rt({chainId:ce,address:le,targetChainId:ue,targetChainAddress:de,offset:10*n,limit:10}).then((function(t){console.log(">> FETCHED");var n=t.requests,a=t.sourceTimestamp;N(Number(a)),b(n),e()})).catch((function(e){console.log(">>> Fail",e),t(e)}))}))};(0,s.useEffect)((function(){I&&(E(!0),S(!1),M().finally((function(){E(!1)})))}),[I]),(0,s.useEffect)((function(){w(!0),M().finally((function(){w(!1)}))}),[ce,le,ue,de,u,n]);return x?(0,a.jsx)(qe,{}):(0,a.jsx)(a.Fragment,{children:i?(0,a.jsxs)(a.Fragment,{children:[B&&(0,a.jsx)(bt,{}),j&&(0,a.jsx)(qe,{}),u.owner.toLowerCase()==i.toLowerCase()?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(vt,{children:[(0,a.jsxs)(jt,{children:[(0,a.jsx)(Ct,{children:"#ID"}),(0,a.jsx)(Ct,{children:"Time"}),(0,a.jsx)(Ct,{children:"Spender"}),(0,a.jsx)(Ct,{children:"Amount ".concat(p)}),(0,a.jsx)(Ct,{children:"Status"}),(0,a.jsx)(Ct,{children:"Actions"})]}),(0,a.jsx)(wt,{children:g.length>0?(0,a.jsx)(a.Fragment,{children:g.map((function(e){var t=e.amount,n=e.from,r=e.id,i=e.inUtx,s=e.status,o=e.target;return(0,a.jsxs)(kt,{children:[(0,a.jsx)(Nt,{children:r}),(0,a.jsx)(Nt,{children:Ze(i)}),(0,a.jsx)(Nt,{children:(0,a.jsx)("a",{target:"_blank",href:Be(ce,n),className:"text-blue-500",children:n})}),(0,a.jsx)(Nt,{children:ke(t,f)}),(0,a.jsx)(Nt,{children:s==He&&o&&o.id==r?(0,a.jsx)("span",{className:"text-green-500 font-bold",children:"Ready"}):(0,a.jsxs)(a.Fragment,{children:[s==He&&(!o||0==o.id)&&(0,a.jsx)("span",{className:"text-cyan-700 font-bold",children:"Not finished"}),s==Ge&&Number(i)+Number(h)<k?(0,a.jsx)("span",{className:"text-red-600 font-bold",children:"Need refund"}):(0,a.jsx)(a.Fragment,{children:s==Ge&&(0,a.jsx)("span",{className:"text-blue-600 font-bold",children:"Pengind"})}),s==Ve&&(0,a.jsx)("span",{className:"text-red-500 font-bold",children:"Rejected"}),s==ze&&(0,a.jsx)("span",{className:"text-cyan-700 font-bold",children:"Refunded"})]})}),(0,a.jsx)(Nt,{children:(0,a.jsx)(it,{onClick:function(){var e;c({title:"Info about request #".concat(e=r),hideBottomButtons:!0,fullWidth:!0,id:"REQUEST_INFO",onClose:function(){S(!0)},content:(0,a.jsx)(gt,{requestId:e})})},children:"Info"})})]},r)}))}):(0,a.jsx)(kt,{children:(0,a.jsx)(Nt,{colSpan:"6",className:"font-bold text-center",children:"empty"})})})]}),g.length>0&&(0,a.jsx)(et,{page:n,totalItems:m,perPage:10,href:"#/admin/{page}"})]}):(0,a.jsx)(at,{adminAddress:u.owner})]}):(0,a.jsx)(ye,{})})}var It=n(9622),St=function(e){var t=(0,p.qL)().disconnect,n=(0,U.Z)({view:function(e){return(0,a.jsx)("button",{onClick:e,children:"Disconnect wallet"})}},e).view;return(0,a.jsx)(a.Fragment,{children:n((function(){console.log(">> do disconnect"),t()}))})},At=function(e){return"/"==e.substr(0,1)?"#".concat(e):e},Bt=function(){var e=(0,s.useState)(!1),t=e[0],n=e[1],r=D(),i=r.injectedAccount,c=(r.injectedChainId,r.balance),l=te().contractInfo.owner,u=!(!l||!i||l.toLowerCase()!=i.toLowerCase()),d=[{title:"Home",url:"#/"}].concat((0,o.Z)(u?[{title:"Admin",url:"#/admin"}]:[])),m=function(){n(!t)};return(0,a.jsxs)("header",{className:"bg-white shadow-md fixed top-0 left-0 right-0 z-50",style:{transition:"box-shadow 0.3s ease"},children:[(0,a.jsxs)("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-500 pr-8",children:"GCC Token Bridge"}),(0,a.jsx)("div",{className:"md:hidden",children:(0,a.jsx)("button",{onClick:m,className:"focus:outline-none",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-700 transition-transform ".concat(t?"rotate-90":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})}),(0,a.jsxs)("nav",{className:"flex hidden md:flex item-center gap-4 justify-between w-full",children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:d.map((function(e,t){var n=e.title,r=e.url,i=e.blank;return(0,a.jsx)("a",(0,G.Z)((0,U.Z)({href:At(r),className:"text-gray-700 hover:text-blue-500 font-bold"},i?{target:"_blank"}:{}),{children:n}),t)}))}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(xe,{connectView:function(e,t){return(0,a.jsx)("button",{disabled:e,onClick:t,className:"bg-blue-500 text-white px-4 py-2 rounded ml-4 md:ml-0 mt-4 md:mt-0 hover:bg-blue-600",children:"Connect Wallet"})},connectedView:function(e){return(0,a.jsxs)("button",{onClick:m,className:"flex items-center gap-2 bg-gray-100 px-4 py-2 rounded hover:bg-gray-200",children:[(0,a.jsx)("span",{children:"".concat(e.slice(0,6),"...").concat(e.slice(-4))}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-600",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})},wrongChainView:function(e){return(0,a.jsx)("button",{onClick:e,className:"bg-blue-500 text-white px-4 py-2 rounded ml-4 md:ml-0 mt-4 md:mt-0 hover:bg-blue-600",children:"Switch chain"})}}),t&&(0,a.jsxs)("div",{className:"absolute p-4 right-0 mt-2 py-2 w-96 bg-slate-50 border border-gray-200 rounded shadow-lg z-10",onMouseLeave:function(){return n(!1)},children:[(0,a.jsxs)("div",{className:"py-2 text-gray-700 font-bold",children:[(0,a.jsx)("p",{className:"font-bold",children:"Wallet Address:"}),(0,a.jsx)("p",{className:"truncate text-sm text-blue-600",children:i})]}),(0,a.jsxs)("div",{className:"py-2 text-gray-700 font-bold",children:[(0,a.jsx)("p",{className:"font-bold",children:"Balance:"}),(0,a.jsxs)("p",{className:"text-sm text-blue-500",children:[ke(c)," ETH"]})]}),(0,a.jsx)(St,{view:function(e){return(0,a.jsx)(Se,{fullWidth:!0,color:"red",isBold:!0,onClick:function(){e(),n(!1)},children:"Disconnect Wallet"})}})]})]})]})]}),(0,a.jsx)("div",{className:"fixed inset-y-0 left-0 bg-white w-full md:hidden transform transition-transform duration-300 ease-in-out ".concat(t?"translate-x-0":"-translate-x-full"," z-50 shadow-lg"),children:(0,a.jsxs)("div",{className:"p-6 h-full flex flex-col justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{onClick:m,className:"absolute top-4 right-4 focus:outline-none",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),(0,a.jsx)("ul",{className:"mt-8 space-y-4",children:d.map((function(e,t){var n=e.title,r=e.url,i=e.blank;return(0,a.jsx)("li",{children:(0,a.jsx)("a",(0,G.Z)((0,U.Z)({href:At(r),className:"block text-gray-700 hover:text-blue-500 font-bold",onClick:m},i?{target:"_blank"}:{}),{children:n}))},t)}))})]}),(0,a.jsx)("div",{children:(0,a.jsx)(xe,{connectView:function(e,t){return(0,a.jsx)(Se,{fullWidth:!0,isDisabled:e,onClick:t,children:"Connect Wallet"})},connectedView:function(e){return(0,a.jsx)(Se,{fullWidth:!0,children:"".concat(e.slice(0,6),"...").concat(e.slice(-4))})},wrongChainView:function(e){return(0,a.jsx)(Se,{fullWidth:!0,onClick:e,children:"Switch chain"})}})})]})})]})},Et=function(){return(0,a.jsx)("footer",{className:"bg-white py-8 mt-4 border-t-2 pt-8"})};var Mt=function(e){var t={"/":nt,"/:subpage":nt,"/:subpage/:pageOrRequest":nt,"/admin":Tt,"/admin/:page":Tt};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,a.jsx)(Bt,{}),(0,a.jsx)("div",{className:"container mx-auto p-10 mt-10 max-sm:p-4 max-sm:mt-0 max-sm:pt-10 flex-grow",children:(0,a.jsx)(he,{views:(0,U.Z)({},t),props:{},on404:It.default})}),(0,a.jsx)(Et,{})]})})};var Rt=function(e){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i(),{children:(0,a.jsx)("title",{children:"Bridge GCC Tokens from Etherium to BSC"})}),(0,a.jsx)(pe,{children:(0,a.jsx)(Mt,{})})]})}},5883:function(){},6601:function(){}},function(e){e.O(0,[5128,4976,8543,3585,9774,2888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);